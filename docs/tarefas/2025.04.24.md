# üß† Tarefas Modelo - Exemplo: SkyBridge CLI & Changelog Engine

## üîç An√°lise Cr√≠tica da Proposta Atual
- ‚úÖ **Pontos Positivos**:
  - Estrutura clara com contexto, arquitetura e tarefas
  - Boa organiza√ß√£o visual com emojis e se√ß√µes bem definidas
  - Vis√£o geral da arquitetura hexagonal adequada

- ‚ö†Ô∏è **Oportunidades de Melhoria**:
  - Falta de prazos espec√≠ficos para cada tarefa
  - Aus√™ncia de respons√°veis designados
  - Sem prioriza√ß√£o clara das tarefas
  - Falta de m√©tricas para medir o sucesso da implementa√ß√£o
  - Depend√™ncias entre tarefas n√£o est√£o expl√≠citas
  - Riscos potenciais n√£o foram identificados

---

## ‚úÖ Contexto atual
- Sistema `getFileDir(path)` atualizado e funcional via plugin
- Estrutura do reposit√≥rio configurada com ambiente Python, `check.cmd` e estrutura de testes
- Arquivo `CHANGELOG.md` padronizado j√° existe em formato Keep a Changelog + SemVer
- Discuss√£o sobre CLI modular em arquitetura hexagonal iniciada
- Vers√£o atual do projeto: [0.1.1] conforme CHANGELOG.md

---

## üß© Arquitetura Hexagonal Proposta
- Estrutura com camadas bem definidas:
  - `core/`: l√≥gica de dom√≠nio
    - `core/changelog/parser.py`: para interpretar o CHANGELOG existente
    - `core/changelog/generator.py`: para gerar novos blocos de changelog
    - `core/changelog/models.py`: entidades e objetos de valor do dom√≠nio
  - `app/`: 
    - `app/changelog_service.py`: orquestra os casos de uso (aplica√ß√£o)
    - `app/interfaces/`: interfaces/portas para adaptadores
  - `infrastructure/`: 
    - `infrastructure/git_adapter.py`: implementa interface com Git (`git diff`)
    - `infrastructure/file_adapter.py`: manipula√ß√£o de arquivos
    - `infrastructure/notification_adapter.py`: integra√ß√£o com Discord/Trello
  - `cli/`: 
    - `cli/cli.py`: interface de entrada via `typer`
    - `cli/commands/`: m√≥dulos para cada comando

### üìä Diagrama de Depend√™ncias
```
cli ‚Üí app ‚Üí core
       ‚Üì
infraestrutura
```

---

## üõ†Ô∏è Tarefas a fazer

### Prioridade Alta (Sprint 1: at√© 10/05/2025)
- [ ] **P1** Criar `core/changelog/models.py` - *Respons√°vel: [Definir]*
  - Definir entidades como `ChangelogEntry`, `ChangelogSection`, etc.
  - M√©tricas: Cobertura de testes > 90%
  - Depend√™ncias: Nenhuma

- [ ] **P1** Criar `core/changelog/generator.py` - *Respons√°vel: [Definir]*
  - Implementar l√≥gica para gerar blocos de changelog a partir de mudan√ßas
  - M√©tricas: Cobertura de testes > 90%, suporte a todos os tipos de mudan√ßa do padr√£o atual
  - Depend√™ncias: `models.py`

- [ ] **P1** Criar `infrastructure/git_adapter.py` - *Respons√°vel: [Definir]*
  - Implementar interface com Git para obter diff entre commits/branches
  - M√©tricas: Testes de integra√ß√£o com reposit√≥rio real
  - Depend√™ncias: Nenhuma
  - Riscos: Depend√™ncia de comandos git externos

### Prioridade M√©dia (Sprint 2: at√© 25/05/2025)
- [ ] **P2** Criar `app/interfaces/git_port.py` - *Respons√°vel: [Definir]*
  - Definir interface para adaptadores Git
  - M√©tricas: Interface bem documentada
  - Depend√™ncias: Nenhuma

- [ ] **P2** Criar `app/changelog_service.py` - *Respons√°vel: [Definir]*
  - Implementar casos de uso para gera√ß√£o de changelog
  - M√©tricas: Cobertura de testes > 85%
  - Depend√™ncias: `core/changelog/generator.py`, `app/interfaces/git_port.py`

- [ ] **P2** Criar `cli/cli.py` com Typer - *Respons√°vel: [Definir]*
  - Implementar comando `changes` b√°sico
  - M√©tricas: Testes de CLI funcionais
  - Depend√™ncias: `app/changelog_service.py`

### Prioridade Baixa (Sprint 3: at√© 10/06/2025)
- [ ] **P3** Integrar `generator` com arquivos retornados por `git_adapter`
  - Implementar fluxo completo de gera√ß√£o de changelog
  - M√©tricas: Teste end-to-end funcionando
  - Depend√™ncias: Todas as tarefas anteriores

- [ ] **P3** Implementar `infrastructure/file_adapter.py`
  - Criar adaptador para salvar changelog no arquivo CHANGELOG.md
  - M√©tricas: Testes de integra√ß√£o com sistema de arquivos
  - Depend√™ncias: `core/changelog/generator.py`

---

## üîÑ Automa√ß√£o futura (Backlog)

### Vers√£o 0.2.0 (Q3 2025)
- [ ] `skybridge changes` deve gerar um bloco novo de changelog baseado no git diff
  - Detectar automaticamente tipo de mudan√ßa (feature, fix, etc.)
  - Sugerir se√ß√£o apropriada baseado em conven√ß√µes de commit

### Vers√£o 0.3.0 (Q4 2025)
- [ ] Possibilidade de salvar direto no `CHANGELOG.md` ou enviar pro Discord/Trello
  - Implementar adaptadores para diferentes destinos
  - Configura√ß√£o via arquivo YAML/TOML

### Vers√£o 1.0.0 (Q1 2026)
- [ ] CLI expans√≠vel para `check`, `release`, `sync`, etc.
  - Arquitetura de plugins para comandos
  - Documenta√ß√£o completa de API

---

## üöß Riscos Identificados
1. **Integra√ß√£o com Git**: Depend√™ncia de comandos externos pode causar problemas em diferentes ambientes
   - *Mitiga√ß√£o*: Criar mock para testes e validar em diferentes sistemas operacionais

2. **Complexidade da Arquitetura**: Arquitetura hexagonal pode ser overhead para projeto pequeno
   - *Mitiga√ß√£o*: Implementar incrementalmente, come√ßando com componentes essenciais

3. **Manuten√ß√£o do Formato**: Garantir que o formato do CHANGELOG seja preservado
   - *Mitiga√ß√£o*: Testes rigorosos de parser e generator

---

## üìä M√©tricas de Sucesso
- **Funcionalidade**: 100% das tarefas de alta prioridade conclu√≠das at√© 10/05/2025
- **Qualidade**: Cobertura de testes > 85% em todo o c√≥digo
- **Usabilidade**: CLI com documenta√ß√£o de ajuda clara e exemplos
- **Performance**: Gera√ß√£o de changelog < 2 segundos para reposit√≥rios m√©dios

---

üìå √öltima atualiza√ß√£o: 2025-04-26